!function(){function p(e,t,n){if(e===null)return;if(c&&e.forEach===c)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===o)return}else for(var s in e)if(e.hasOwnProperty(s)&&t.call(n,e[s],s,e)===o)return}function d(e,t,n){var r=!0;return e===null?r:h&&e.every===h?e.every(t,n):(p(e,function(e,i,s){if(!(r=r&&t.call(n,e,i,s)))return o}),r)}function v(e,t){var n=e.length;while(n--)if(e[n]===t)return!0;return!1}function m(e,t){var n=t-e,r,i,s;return r=/[0-9]{4}$/.exec("000"+Math.floor(n/36e5)),i=Math.floor(n%36e5/6e4),s=Math.floor(n%36e5%6e4/1e3),[r,i<10?"0"+i:i,s<10?"0"+s:s].join(":")}function g(t){var n;return i[t]?i[t]:e&&(n=e.LMSGetValue(t))&&+e.LMSGetLastError()===0?(i[t]=n,i[t]):null}function y(e,t){return i[e]=t,v(s,e)||s.push(e),i[e]}function b(){return Number(e.LMSGetLastError())||null}function w(t){return e.LMSGetErrorString(String(t))||null}function E(t){return e.LMSGetDiagnostic(String(t))||null}function S(){var t=!1;if(e){t=d(s,function(t,n,r){return e.LMSSetValue(t,i[t])==="true"&&+e.LMSGetLastError()===0?!0:!1});if(t&&(s=[])&&e.LMSCommit("")==="true"&&+e.LMSGetLastError()===0)return t}return t}function x(){return e&&e.LMSInitialize("")==="true"&&/0|101/.test(+e.LMSGetLastError())?(r=+(new Date),/(pass|complet)ed?/.test(g("cmi.core.lesson_status"))||y("cmi.core.lesson_status","incomplete"),n&&t.mode==="test"&&"displaySuccess"in n&&(n._displaySuccess=n.displaySuccess,n.displaySuccess=function(){}),f||(f=window.setInterval(function(){y("cmi.core.lesson_location",g("cmi.core.lession_location")),S()||(window.clearInterval(f),window.onLMSConnectionError&&window.onLMSConnectionError())},3e5)),!0):!1}function T(){if(e){y("cmi.core.session_time",m(r,+(new Date)));if(S()&&e.LMSFinish("")==="true")return n&&(t.mode==="test"&&"_displaySuccess"in n&&n._displaySuccess.call(t),n.cleanup=function(){},t.location.href=t.location.href),!0}return!1}function N(e){return function(){return e.apply(window,arguments).toString()}}var e,t,n,r,i={},s=[],o={},u,a,f,l=Array.prototype,c=l.forEach,h=l.every;e=function(e){var r=arguments.callee;t=e||window;if(!t.API){if(t!==t.parent)return r.call(this,t.parent);if(t.opener!==null&&typeof t.opener!="undefined"&&!t.opener.closed)return r.call(this,t.opener)}return t.parent.frames&&"SCODataFrame"in t.parent.frames&&(n=t.parent.frames.SCODataFrame),t.API}.call(this),window.getAPI=window.findAPI=window.getAPIHandle=function(){return e},window.LMSInitialize=x,window.LMSCommit=S,window.LMSFinish=T,window.LMSGetValue=g,window.LMSSetValue=y,window.LMSGetLastError=b,window.LMSGetErrorString=w,window.LMSGetDiagnostic=E,window.doLMSInitialize=N(x),window.doLMSCommit=N(S),window.doLMSFinish=N(T),window.doLMSGetValue=N(g),window.doLMSSetValue=N(y),window.doLMSGetLastError=N(b),window.doLMSGetErrorString=N(w),window.doLMSGetDiagnostic=N(E)}.call(this);